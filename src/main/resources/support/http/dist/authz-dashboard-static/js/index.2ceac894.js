(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index"],{"11b0":function(t,e,s){"use strict";s("86be")},"13b2":function(t,e,s){"use strict";s("d462")},"1a08":function(t,e,s){"use strict";s("fb8b")},2119:function(t,e,s){"use strict";s("9c11")},2862:function(t,e,s){"use strict";s("4ba2")},"42e2":function(t,e,s){"use strict";s("8ffb")},"4ba2":function(t,e,s){},"86be":function(t,e,s){},"8ffb":function(t,e,s){},"9c11":function(t,e,s){},a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"container",attrs:{id:"container"}},[e("div",{staticClass:"form-container sign-in-container"},[e("div",{staticClass:"form"},[e("h1",[t._v("Authz Dashboard")]),e("span",[t._v("use your account")]),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.username,expression:"username",arg:"value"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.password,expression:"password",arg:"value"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("button",{attrs:{disabled:t.waitLogin},on:{click:t.doLogin}},[t._v(t._s(t.waitLogin?"Waiting...":"Login"))])])])])])},r=[],i=s("7736"),n=s("cc33"),o=s("fa7d"),c={name:"Login",data(){return{username:"",password:"",waitLogin:!1,ok:!1}},methods:{...Object(i["b"])(["setUser"]),doLogin(){if(this.waitLogin)return void this.$message.warning("waiting");if(this.ok)return;this.waitLogin=!0;let t=this.username,e=this.password,s={username:t,password:e};this.$http.post(o["b"]+"/user/login",s).then(e=>{100===e.data.code?(this.$notification.success({message:"Successful: "+t,duration:3}),this.setUser(e.data.data.username),Object(n["c"])(e.data.data.uuid),this.$router.push("/").catch(t=>{}),this.ok=!0):(this.password="",this.$message.error("Account password error")),this.waitLogin=!1})}},created(){}},l=c,d=(s("11b0"),s("0b56")),h=Object(d["a"])(l,a,r,!1,null,"2dc01032",null);e["default"]=h.exports},bb51:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[t._v(" Home ")])},r=[],i={name:"Home",data(){return{}},methods:{}},n=i,o=s("0b56"),c=Object(o["a"])(n,a,r,!1,null,"35b42202",null);e["default"]=c.exports},d462:function(t,e,s){},d504:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.load?e("div",{attrs:{id:"index"}},[e("div",{staticClass:"info-header"},[t._v("Authz "+t._s(t.docs.authz?"-"+t.docs.authz:""))]),e("div",{staticClass:"info-content"},[e("h5",[t._v(t._s(t.docs.info.title)+" "),e("span",{staticClass:"h-inner-content"},[t._v(t._s(t.docs.info.version))])]),e("div",{staticStyle:{"margin-left":"10px"}},[e("h6",[t._v("api description: "),e("a",{attrs:{target:"_blank",href:`${t.getUrl(t.docs.appVersionInfo.dashboardApiHelper)}${t.token?"?uuid="+t.token:""}`}},[t._v(" "+t._s(t.getUrl(t.docs.appVersionInfo.dashboardApiHelper))+" ")])]),e("h6",[t._v("api docs: "),e("a",{attrs:{target:"_blank",href:`${t.getUrl(t.docs.appVersionInfo.dashboardDocs)}${t.token?"?uuid="+t.token:""}`}},[t._v(" "+t._s(t.getUrl(t.docs.appVersionInfo.dashboardDocs))+" ")])])]),e("h5",[t._v("license:")]),e("div",{staticStyle:{"margin-left":"10px"}},[e("h6",[t._v(t._s(t.docs.info.license.name)+" : "),e("a",{staticClass:"license-url",attrs:{target:"_blank",href:t.docs.info.license.url}},[t._v(" "+t._s(t.docs.info.license.url)+" ")])])]),e("h5",[t._v("description:")]),e("div",{staticStyle:{"margin-left":"10px"}},[e("div",[t._v(t._s(t.docs.info.description))])])]),e("div",{staticClass:"info-header"},[t._v(" Server ")]),e("div",{staticClass:"info-content"},[e("h5",[t._v("Application : "),e("span",{staticClass:"h-inner-content"},[t._v(t._s(t.docs.appVersionInfo.application))])]),e("h5",[t._v("App Name : "),e("span",{staticClass:"h-inner-content"},[t._v(t._s(t.docs.appVersionInfo.appName))])]),e("h5",[t._v("Base Url : "),e("span",{staticClass:"h-inner-content"},[t._v(t._s(t.getUrl(t.docs.appVersionInfo.baseUrl)))])]),e("h5",[t._v("Service Count : "),e("span",{staticClass:"h-inner-content"},[t._v(t._s(t.docs.conns.length))])]),e("h5",[t._v("Services : ")]),e("div",{staticClass:"server-card-list"},t._l(t.docs.conns,(function(t){return e("server-card",{key:"server-"+t.host+"-"+t.port,attrs:{server:t}})})),1)]),e("div",{staticClass:"info-header"},[t._v("Api Permissions")]),e("api-list",{attrs:{docs:t.docs}})],1):t._e()},r=[],i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"api-list"}},[e("a-collapse",{on:{change:t.changeActivekey}},t._l(t.docs.controllers,(function(s,a,r){return e("a-collapse-panel",{key:r,staticStyle:{background:"rgb(247, 247, 247)","border-radius":"4px","margin-bottom":"4px"},attrs:{"show-arrow":!1}},[e("span",{attrs:{slot:"header"},slot:"header"},[e("a-badge",{attrs:{count:s.length,"number-style":{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset"},offset:[15,0]}},[e("span",{staticClass:"controller-name"},[t._v(" "+t._s(a)+" ")])])],1),e("a-collapse",{on:{change:t.changeActivekey}},t._l(s,(function(s,a){return e("a-collapse-panel",{key:r+"-"+a,staticStyle:{"margin-bottom":"15px"},style:t.methodStyle[s.method],attrs:{"show-arrow":!1}},[e("div",{staticClass:"collapse-header",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"api-method",class:t.methodColorClass(s.method)},[t._v(t._s(s.method))]),e("div",{staticClass:"api-path"},[e("span",{domProps:{innerHTML:t._s(t.parsePath(s.path))}}),t.hasAuth(s)?e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-menu_rolepermiss"}})]):t._e(),t.hasRateLimit(s)?e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-rate"}})]):t._e(),t.hasRequireLogin(s)?e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-Login"}})]):t._e()])]),e("div",[e("div",{staticClass:"p-tags"},[e("a-checkable-tag",{staticStyle:{background:"#f7f7f7","margin-bottom":"5px",width:"90px","text-align":"center"},on:{change:function(e){return t.handleChange(s)}},model:{value:t.getPath(s).requireLogin,callback:function(e){t.$set(t.getPath(s),"requireLogin",e)},expression:"getPath(v11).requireLogin"}},[t._v(" "+t._s(t.getPath(s).requireLogin?"Require Login":"Not Login")+" ")]),t.hasAuth(s)?e("a-tag",{staticStyle:{"background-color":"var(--main-color) !important",cursor:"unset","margin-bottom":"5px","text-align":"center"}},[t._v(" Auth ")]):t._e()],1),e("card",{staticStyle:{"margin-right":"110px"},attrs:{path:t.getPath(s),rateLimit:t.rateLimit(s)}})],1)])})),1)],1)})),1)],1)},n=[],o=s("cc33"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.path&&t.path.auth?e("and-or-select",{attrs:{items:t.path.auth.requireRoles}}):t._e()],1)},l=[],d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"and-or-select"},[e("div",{ref:"requireRoles",staticClass:"requireRoles"},[t._l(t.items,(function(s,a){return t.items?e("div",{staticClass:"role-perms-items",staticStyle:{"margin-bottom":"5px"}},[0!==a?e("div",{staticClass:"and-or-select_or"},[t._v(" OR ")]):t._e(),0!==a?e("sup",{staticClass:"sup-close",on:{click:function(e){return t.closeOr(a)}}},[e("svg",{staticClass:"icon",staticStyle:{"font-size":"8px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-close-circle"}})])]):t._e(),0===a?e("div",{staticClass:"s-delete"},[e("svg",{staticClass:"icon",staticStyle:{"font-size":"12px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-delete"}})])]):t._e(),s.length?t._e():e("div",{staticClass:"and-or-select_val and-or-select_val_add",on:{click:function(e){return t.insert(a)}}},[t._v(" INSERT ")]),t._l(s,(function(r,i){return e("div",{staticClass:"role-perms-item",class:{"role-perms-item_first":0===a&&0===i},style:0!==i?"margin-left: 0px":""},[e("div",{staticClass:"role-perms-item_val div-text-scroll",attrs:{contenteditable:"true"},domProps:{innerHTML:t._s(s[i])},on:{keyup:t.change,click:function(e){return t.modifyStart(a,i)}}}),e("sup",{staticClass:"sup-close",on:{click:function(e){return t.close(a,i)}}},[e("svg",{staticClass:"icon",staticStyle:{"font-size":"8px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-close-circle"}})])]),e("sup",{directives:[{name:"show",rawName:"v-show",value:t.cm[a][i],expression:"cm[index_1][index_2]"}],staticClass:"sup-ok",on:{click:function(e){return t.save(a,i)}}},[e("svg",{staticClass:"icon",staticStyle:{"font-size":"8px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-check-circle"}})])]),e("div",{staticClass:"and-or-select_and",class:{"and-or-select_add":i===s.length-1},on:{click:function(e){return t.andAdd(i===s.length-1,a)}}},[t._v(" AND ")])])}))],2):t._e()})),e("div",{staticStyle:{"min-height":"44px"}},[e("div",{staticClass:"and-or-select_or and-or-select_add",on:{click:t.orAdd}},[t._v(" OR ")])])],2)])},h=[],u={name:"AndOrSelect",props:{items:{type:Array}},data(){return{modify:["",""],currentValue:"",changeMap:{"":{raw:"",new:""}}}},computed:{cm(){let t=[];for(let e=0;e<this.items.length;e++){t[e]=[];for(let s=0;s<this.items[e].length;s++){let a=this.changeMap[this.getCacheKey(e,s)];t[e][s]=void 0!==a&&a.new!==a.raw||a&&null===a.raw}}return t}},methods:{insert(t){console.log("insert"),console.log(t),this.$set(this.items[t],0,null),this.$set(this.changeMap,this.getCacheKey(t,0),{raw:null,new:""})},rawNewMap(t,e){return this.changeMap[this.getCacheKey(t,e)]},getCacheKey(t,e){return`${t}-${e}`},orAdd(){this.$set(this.items,this.items.length,[])},andAdd(t,e){t&&(this.$set(this.items[e],this.items[e].length,""),this.$set(this.changeMap,this.getCacheKey(e,this.items[e].length-1),{raw:null,new:""}))},modifyStart(t,e){this.modify=[t,e];let s=this.getCacheKey(t,e);void 0===this.changeMap[s]&&this.$set(this.changeMap,s,{raw:this.items[t][e],new:this.items[t][e]})},change:function(t){let e=this.getCacheKey(this.modify[0],this.modify[1]);this.$set(this.changeMap,e,{raw:this.changeMap[e]?this.changeMap[e]["raw"]:"",new:t.target.innerHTML})},close(t,e){let s=this.$refs.requireRoles.childNodes[t].children;if(0===t){let t=s[e+1].children[0];console.log(t.innerText)}else{let t=s[e+2].children[0];console.log(t.innerText)}for(let a=e;a<this.items[t].length;a++){let e=`${t}-${a}`,s=`${t}-${a-1}`;this.changeMap[e]&&(this.$set(this.changeMap,s,this.changeMap[e]),this.$set(this.items[t],a-1,this.items[t][a]))}this.$delete(this.changeMap,`${t}-${this.items[t].length-1}`),this.$delete(this.items[t],e)},closeOr(t){this.$delete(this.items,t)},save(t,e){let s=this.getCacheKey(t,e),a=this.changeMap[s];this.$set(this.items[t],e,a.new),this.$delete(this.changeMap,s)}}},p=u,g=(s("2862"),s("0b56")),v=Object(g["a"])(p,d,h,!1,null,"f58a60d2",null),m=v.exports,f={name:"Card",components:{AndOrSelect:m},props:{path:{type:Object,default:{auth:{requireRoles:[],requirePerms:[],excludeRoles:[],excludePerms:[]}}},rateLimit:{type:Object}},data(){return{}},methods:{}},b=f,_=(s("42e2"),Object(g["a"])(b,c,l,!1,null,"02de0754",null)),C=_.exports,w={name:"ApiList",components:{Card:C},props:{docs:{type:Object,default:{controllers:[],paths:{},rateLimit:{}}}},data(){return{methodStyle:{GET:"background-color: rgba(97,175,254,.1);",POST:"background-color: rgba(73,204,144,.1);",HEAD:"background-color: rgba(144,18,254,.1);",PUT:"background-color: rgba(252,161,48,.1);",DELETE:"background-color: rgb(249,62,62,.1)",OPTIONS:"background-color: rgb(13,90,167,.1);",PATCH:"background-color: rgba(80,227,194,.1);"}}},methods:{changeActivekey(t){},handleChange(t){this.getPath(t).requireLogin,this.getPath(t).requireLogin},hasRateLimit(t){return this.docs.rateLimit[t.path]&&this.docs.rateLimit[t.path][t.method]},rateLimit(t){return this.hasRateLimit(t)?this.docs.rateLimit[t.path][t.method]:null},hasAuth(t){return this.getPath(t).auth},hasRequireLogin(t){return this.getPath(t).requireLogin},getPath(t){return this.docs.paths[t.path][t.method]},methodColorClass(t){return"api-method-"+t.toLowerCase()},parsePath(t){let e="";do{let s=t.search(/{.*?}/g);if(-1===s)break;let a=t.indexOf("}",s);e+=`${t.substring(0,s)}<span style="color: var(--main-color)">${t.substring(s,a+1)}</span>`,t=t.substring(a+1)}while(1);return e||t}}},k=w,x=(s("2119"),Object(g["a"])(k,i,n,!1,null,"0addfccc",null)),y=x.exports,$=function(){var t=this,e=t._self._c;return e("a",{ref:"a",staticClass:"server-card-a",class:{"not-allowed":!t.server.dashboard},attrs:{href:t.url,target:"_blank"},on:{click:function(e){return e.preventDefault(),t.click.apply(null,arguments)}}},[e("div",{staticClass:"server-card",class:{"not-allowed":!t.server.dashboard,allowed:t.server.dashboard}},[t.server.dashboard&&!t.eq?e("svg",{staticClass:"icon",staticStyle:{"margin-left":"10px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-server"}})]):t._e(),t.server.dashboard?t._e():e("svg",{staticClass:"icon",staticStyle:{"margin-left":"10px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-ban"}})]),t.server.dashboard&&t.eq?e("svg",{staticClass:"icon",staticStyle:{"margin-left":"10px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-targeting"}})]):t._e(),e("div",{staticClass:"server-info"},[e("div",[t._v("host: "+t._s(t.server.host))]),e("div",[t._v("port: "+t._s(t.server.port))])])])])},L=[],S=s("fa7d"),O=s("7736"),A={name:"ServerCard",props:{server:{type:Object,default:{dashboard:null}}},computed:{...Object(O["c"])(["currentServer"]),url(){return this.server.dashboard?`${Object(S["a"])(this.server.dashboard)}#/?uuid=${Object(o["a"])()}`:""},eq(){return this.server.appName===this.currentServer.appName&&this.server.application===this.currentServer.application&&this.server.port===this.currentServer.port&&this.server.host===this.currentServer.host}},data(){return{}},mounted(){},methods:{click(){this.server.dashboard?window.open(this.url,"_blank"):this.$message.warning("Dashboard is not allowed")}}},P=A,M=(s("1a08"),Object(g["a"])(P,$,L,!1,null,"4907debb",null)),j=M.exports,q={name:"Index",components:{ServerCard:j,ApiList:y},data(){return{docs:{controllers:[],paths:{},rateLimit:{},appVersionInfo:{},info:{license:{}},conns:[]},load:!1}},methods:{...Object(O["b"])(["setServer"]),getUrl(t,e){let s=window.location.href.indexOf(":"),a=window.location.href.substring(0,s);return e?`${a}://${t}:${e}`:`${a}://${t}`}},computed:{token(){return Object(o["a"])()}},mounted(){this.$http.get(`${S["b"]}/docs?uuid=${Object(o["a"])()}`).then(t=>{this.docs=t.data,this.setServer(this.docs.appVersionInfo),this.load=!0})}},R=q,N=(s("13b2"),Object(g["a"])(R,a,r,!1,null,"1270d684",null));e["default"]=N.exports},fb8b:function(t,e,s){}}]);